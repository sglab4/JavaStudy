参考 https://www.jianshu.com/p/066d99da7cbd

# 1、概述

在计算机通信领域，socket 被翻译为“套接字”，它是计算机之间进行**通信**的**一种约定**或一种方式。通过 socket 这种约定，一台计算机可以接收其他计算机的数据，也可以向其他计算机发送数据

socket起源于Unix，而Unix/Linux基本哲学之一就是“一切皆文件”，都可以用“打开open –> 读写write/read –> 关闭close”模式来操作。

Socket就是该模式的一个实现：即socket是一种特殊的文件，一些socket函数就是对其进行的操作（读/写IO、打开、关闭）。

Socket()函数返回一个整型的Socket描述符，随后的连接建立、数据传输等操作都是通过该Socket实现的。

# 2、网络间进程的通信

## 2.1 本地进程间通信

a、消息传递（管道、消息队列、FIFO）

b、同步（互斥量、条件变量、读写锁、文件和写记录锁、信号量）

c、共享内存（匿名的和具名的，eg:channel）

d、远程过程调用(RPC)

## 2.2 网络间进程间通信

我们要理解网络中进程如何通信，得解决两个问题：

 　ａ、我们要如何标识一台主机，即怎样确定我们将要通信的进程是在那一台主机上运行。

 　ｂ、我们要如何标识唯一进程，本地通过pid标识，网络中应该怎样标识？

 解决办法：

 　ａ、TCP/IP协议族已经帮我们解决了这个问题，网络层的“ip地址”可以唯一标识网络中的主机

 　ｂ、传输层的“协议+端口”可以唯一标识主机中的应用程序（进程），因此，我们利用三元组（ip地址，协议，端口）就可以标识网络的进程了，网络中的进程通信就可以利用这个标志与其它进程进行交互。

# 3、Socket 如何通信

现在，我们知道了网络中进程间如何通信，即利用三元组【ip地址，协议，端口】可以进行网络间通信了，那我们应该怎么实现了，因此，我们socket应运而生，它就是利用三元组解决网络通信的一个中间件工具，就目前而言，几乎所有的应用程序都是采用socket，如UNIX  BSD的套接字（socket）和UNIX System V的TLI（已经被淘汰）。

Socket通信的数据传输方式，常用的有两种：

 　ａ、**SOCK_STREAM**：表示面向连接的数据传输方式。数据可以准确无误地到达另一台计算机，如果损坏或丢失，可以重新发送，但效率相对较慢。常见的 http 协议就使用 SOCK_STREAM 传输数据，因为要确保数据的正确性，否则网页不能正常解析。

 　ｂ、**SOCK_DGRAM**：表示无连接的数据传输方式。计算机只管传输数据，不作数据校验，如果数据在传输中损坏，或者没有到达另一台计算机，是没有办法补救的。也就是说，数据错了就错了，无法重传。因为 SOCK_DGRAM 所做的校验工作少，所以效率比 SOCK_STREAM 高。

 　例如：QQ 视频聊天和语音聊天就使用 SOCK_DGRAM 传输数据，因为首先要保证通信的效率，尽量减小延迟，而数据的正确性是次要的，即使丢失很小的一部分数据，视频和音频也可以正常解析，最多出现噪点或杂音，不会对通信质量有实质的影响

# 4、Socket 的 I/O 模型

# 5、I/O 复用

























































